# Miyabi CodeGenAgent ä½¿ç”¨ã‚¬ã‚¤ãƒ‰

## å•é¡Œ: æ¨™æº–ã‚³ãƒãƒ³ãƒ‰ãŒå‹•ã‹ãªã„

Miyabiã®æ¨™æº–ã‚³ãƒãƒ³ãƒ‰ `npx miyabi agent run codegen --issue=1` ã¯ã€ClaudeCodeClientã®ãƒã‚°ã«ã‚ˆã‚Šå‹•ä½œã—ã¾ã›ã‚“ã€‚

## è§£æ±ºç­–: æ±ç”¨ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ä½¿ç”¨

`miyabi-codegen-template.mjs` ã‚’ä½¿ç”¨ã™ã‚Œã°ã€ã©ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã‚‚ç°¡å˜ã«CodeGenAgentã‚’å®Ÿè¡Œã§ãã¾ã™ã€‚

## ä½¿ã„æ–¹

### åŸºæœ¬çš„ãªä½¿ã„æ–¹

```bash
# Issueç•ªå·ã‚’æŒ‡å®šã—ã¦å®Ÿè¡Œ
ISSUE_NUMBER=5 node miyabi-codegen-template.mjs

# ã¾ãŸã¯å¼•æ•°ã§æŒ‡å®š
node miyabi-codegen-template.mjs 5
```

### ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚º

ç’°å¢ƒå¤‰æ•°ã§è©³ç´°ãªè¨­å®šãŒå¯èƒ½ã§ã™ï¼š

```bash
# åˆ¥ã®ãƒªãƒã‚¸ãƒˆãƒªã§ä½¿ç”¨
export REPOSITORY=yourname/yourrepo
export ISSUE_NUMBER=10
node miyabi-codegen-template.mjs

# è¨€èªã‚’æŒ‡å®šï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: typescriptï¼‰
export LANGUAGE=python
export ISSUE_NUMBER=7
node miyabi-codegen-template.mjs

# è¦ä»¶ã‚’ç›´æ¥æŒ‡å®šï¼ˆIssueã‚’å–å¾—ã—ãªã„å ´åˆï¼‰
export REQUIREMENTS="ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¦ãã ã•ã„"
export ISSUE_NUMBER=3
node miyabi-codegen-template.mjs
```

### å‰ææ¡ä»¶

ä»¥ä¸‹ã®ç’°å¢ƒå¤‰æ•°ãŒè¨­å®šã•ã‚Œã¦ã„ã‚‹å¿…è¦ãŒã‚ã‚Šã¾ã™ï¼š

```bash
export ANTHROPIC_API_KEY=sk-ant-xxxxx
export GITHUB_TOKEN=ghp_xxxxx
export REPOSITORY=owner/repo  # ã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: dokyon/miyabi_telegram_appï¼‰
```

## ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ä¾‹

æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§Issueã‚’å®Ÿè£…ã™ã‚‹å®Œå…¨ãªæ‰‹é †ï¼š

```bash
# 1. ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®š
export ANTHROPIC_API_KEY=sk-ant-xxxxx
export GITHUB_TOKEN=ghp_xxxxx
export REPOSITORY=myname/myproject

# 2. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç§»å‹•
cd /path/to/myproject

# 3. ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’ã‚³ãƒ”ãƒ¼ï¼ˆåˆå›ã®ã¿ï¼‰
cp /path/to/miyabi-codegen-template.mjs .

# 4. CodeGenå®Ÿè¡Œ
ISSUE_NUMBER=1 node miyabi-codegen-template.mjs

# 5. ç”Ÿæˆã•ã‚ŒãŸã‚³ãƒ¼ãƒ‰ã‚’ç¢ºèª
git status

# 6. ãƒ–ãƒ©ãƒ³ãƒä½œæˆã¨ã‚³ãƒŸãƒƒãƒˆ
git checkout -b feature/issue-1
git add .
git commit -m "feat: Implement Issue #1

Generated by Miyabi CodeGenAgent (Claude Sonnet 4)

ğŸ¤– Generated with Claude Code
Co-Authored-By: Claude <noreply@anthropic.com>"

# 7. ãƒ—ãƒƒã‚·ãƒ¥ã¨PRä½œæˆ
git push -u origin feature/issue-1
gh pr create --draft --title "feat: Implement Issue #1" --body "Closes #1"

# 8. Reviewå®Ÿè¡Œï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
npx miyabi agent run review --pr=2 --issue=1
```

## åˆ¥ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ä½¿ã†

ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’åˆ¥ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã‚³ãƒ”ãƒ¼ã™ã‚‹ã ã‘ï¼š

```bash
# ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã‚³ãƒ”ãƒ¼
cp miyabi-codegen-template.mjs /path/to/new-project/

# æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§å®Ÿè¡Œ
cd /path/to/new-project
export REPOSITORY=newowner/newrepo
ISSUE_NUMBER=1 node miyabi-codegen-template.mjs
```

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### npx cacheãƒ‘ã‚¹ãŒé•ã†

ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå†…ã®ä»¥ä¸‹ã®è¡Œã‚’ä¿®æ­£ï¼š

```javascript
const npxCachePath = join(homedir(), '.npm/_npx/1fc34a57fdb9f58a/node_modules');
```

æ­£ã—ã„ãƒ‘ã‚¹ã‚’ç¢ºèªï¼š

```bash
ls ~/.npm/_npx/
# å‡ºåŠ›ã•ã‚ŒãŸãƒãƒƒã‚·ãƒ¥å€¤ã‚’ä½¿ç”¨
```

### GitHub IssueãŒå–å¾—ã§ããªã„

REQUIREMENTSã‚’ç›´æ¥æŒ‡å®šï¼š

```bash
export REQUIREMENTS="$(cat requirements.txt)"
ISSUE_NUMBER=5 node miyabi-codegen-template.mjs
```

## ã¾ã¨ã‚

- âŒ **ä½¿ãˆãªã„**: `npx miyabi agent run codegen --issue=1`
- âœ… **ä½¿ãˆã‚‹**: `ISSUE_NUMBER=1 node miyabi-codegen-template.mjs`
- ğŸ”§ **ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã¯ä½¿ã„å›ã—å¯èƒ½**: ã©ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã§ã‚‚ã‚³ãƒ”ãƒ¼ã—ã¦ä½¿ãˆã‚‹
- ğŸ“ **ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºç°¡å˜**: ç’°å¢ƒå¤‰æ•°ã§æŸ”è»Ÿã«è¨­å®š

ã“ã®ãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆã‚’å„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«é…ç½®ã™ã‚Œã°ã€æ¯å›ã‚¼ãƒ­ã‹ã‚‰ä½œã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ï¼
